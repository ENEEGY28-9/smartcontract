FROM projectserum/build:latest

WORKDIR /app

# Copy smart contract files
COPY blockchain-service/programs/game-token/ ./programs/game-token/

# Build the smart contract
RUN cd programs/game-token && anchor build

# Extract the built .so file
RUN cp programs/game-token/target/deploy/game_token.so /app/game_token.so

