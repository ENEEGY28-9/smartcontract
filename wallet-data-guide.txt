ğŸ” HÆ¯á»šNG DáºªN KIá»‚M TRA Sá» DÆ¯ VÃ TRONG POCKETBASE
===============================================

ğŸ“ NÆ I LÆ¯U Sá» DÆ¯ VÃ Cá»¦A USER:
------------------------------
â€¢ Collection: "wallets"
â€¢ Field: "balance" (lÆ°u sá»‘ dÆ° vÃ­)
â€¢ Field: "user_id" (liÃªn káº¿t vá»›i user)
â€¢ Field: "balance_last_updated" (thá»i gian cáº­p nháº­t)

ğŸ¯ CÃCH KIá»‚M TRA TRá»°C TIáº¾P:
---------------------------

1ï¸âƒ£ Má» POCKETBASE ADMIN PANEL:
   ğŸŒ http://localhost:8090/_/

2ï¸âƒ£ CHá»ŒN COLLECTION "WALLETS":
   â€¢ Click vÃ o "wallets" trong sidebar bÃªn trÃ¡i
   â€¢ Hoáº·c: Collections â†’ wallets

3ï¸âƒ£ XEM Cá»˜T "BALANCE":
   â€¢ Cá»™t "balance" = Sá» DÆ¯ VÃ
   â€¢ Cá»™t "user_id" = ID cá»§a user sá»Ÿ há»¯u vÃ­
   â€¢ Cá»™t "network" = Network (ethereum/solana/bitcoin)
   â€¢ Cá»™t "balance_last_updated" = Láº§n cáº­p nháº­t cuá»‘i

4ï¸âƒ£ Lá»ŒC THEO USER:
   â€¢ Click nÃºt "Filter" hoáº·c "Search"
   â€¢ Filter theo: user_id = "ID_Cá»¦A_USER"
   â€¢ Chá»‰ xem wallets cá»§a user Ä‘Ã³

5ï¸âƒ£ KIá»‚M TRA DATA CHI TIáº¾T:
   â€¢ Click vÃ o tá»«ng record Ä‘á»ƒ xem full details
   â€¢ Xem balance, address, network, wallet_type
   â€¢ Xem private_key vÃ  mnemonic (Ä‘Ã£ encrypted)

ğŸ“Š Cáº¤U TRÃšC DATABASE:
-------------------
USERS Collection:
â”œâ”€â”€ id (Primary Key)
â”œâ”€â”€ email (ÄÄƒng nháº­p)
â”œâ”€â”€ name (TÃªn hiá»ƒn thá»‹)
â””â”€â”€ created/updated

WALLETS Collection:
â”œâ”€â”€ id (Primary Key)
â”œâ”€â”€ user_id (ğŸ”— Foreign Key â†’ users.id)
â”œâ”€â”€ address (Äá»‹a chá»‰ vÃ­)
â”œâ”€â”€ private_key (ğŸ” Encrypted)
â”œâ”€â”€ mnemonic (ğŸ” Encrypted)
â”œâ”€â”€ wallet_type (metamask/phantom/generated/bitcoin)
â”œâ”€â”€ network (ethereum/solana/bitcoin)
â”œâ”€â”€ balance (ğŸ’° Sá» DÆ¯ VÃ - CHÃNH)
â”œâ”€â”€ balance_last_updated (â° Cáº­p nháº­t cuá»‘i)
â”œâ”€â”€ is_connected (ğŸ”Œ Tráº¡ng thÃ¡i káº¿t ná»‘i)
â””â”€â”€ created/updated

ğŸ”„ CÃCH DATA ÄÆ¯á»¢C Táº O:
---------------------
1. User Ä‘Äƒng nháº­p vÃ o há»‡ thá»‘ng
2. User táº¡o/connect wallet
3. Há»‡ thá»‘ng fetch balance tá»« blockchain
4. Balance Ä‘Æ°á»£c lÆ°u vÃ o field "balance"
5. Time Ä‘Æ°á»£c lÆ°u vÃ o "balance_last_updated"
6. User_id Ä‘Æ°á»£c set Ä‘á»ƒ liÃªn káº¿t vá»›i user

ğŸ’¡ VÃ Dá»¤ DATA:
-------------
Wallet ID: abc123
User ID: user456
Address: 0x742d35Cc6634C0532925a3b8D72
Network: ethereum
Wallet Type: metamask
Balance: 1.5 (ETH)
Balance Last Updated: 2025-01-27T10:30:00Z
Is Connected: true

ğŸ” CÃCH DEBUG:
-------------
1. Má»Ÿ Browser Console (F12)
2. Kiá»ƒm tra Network tab khi connect wallet
3. Xem API calls Ä‘áº¿n PocketBase
4. Kiá»ƒm tra balance Ä‘Æ°á»£c update trong DB

ğŸš¨ LÆ¯U Ã QUAN TRá»ŒNG:
------------------
â€¢ Balance chá»‰ Ä‘Æ°á»£c cáº­p nháº­t khi wallet "connected"
â€¢ Má»—i user chá»‰ tháº¥y wallets cá»§a mÃ¬nh (qua user_id)
â€¢ Private keys Ä‘Æ°á»£c mÃ£ hÃ³a báº£o máº­t
â€¢ Auto-refresh má»—i 30 giÃ¢y khi wallet connected

ğŸ¯ Tá»”NG Káº¾T:
-----------
ğŸ“ NÆ¡i lÆ°u sá»‘ dÆ° vÃ­: Collection "wallets" â†’ Field "balance"
ğŸ”— LiÃªn káº¿t vá»›i user: Field "user_id"
â° Cáº­p nháº­t: Field "balance_last_updated"
ğŸ”’ Báº£o máº­t: User isolation qua user_id filter

ğŸ’» Äá»‚ KIá»‚M TRA NGAY:
1. Má»Ÿ: http://localhost:8090/_/
2. Click: Collections â†’ wallets
3. Xem: Cá»™t "balance" chá»©a sá»‘ dÆ° vÃ­ cá»§a tá»«ng user








